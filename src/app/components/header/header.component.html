<!-- 
 Crea una barra de herramientas define su color como primario 
 y se le asgina una clase para manejar su estilo CSS.
-->
<mat-toolbar color="primary" class="header"> 
  
  <!-- √çcono de men√∫ de hamburguesa (solo en m√≥vil) -->
  <button mat-icon-button class="hamburger" (click)="toggleMenu()" aria-label="Men√∫ de navegaci√≥n">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Logo -->
  <span class="logo">üå± JJ Humus</span>

  <!-- Men√∫ de navegaci√≥n (solo en pantallas grandes) -->
  <nav [class.hidden]="!isMenuOpen" class="nav-menu">
    
    <!-- Bot√≥n de Inicio -->
    <button 
      mat-button 
      routerLink="/" 
      routerLinkActive="active" 
      [routerLinkActiveOptions]="{ exact: true }"
      aria-label="Ir a Inicio" 
      (click)="closeMenu()">
      Inicio
    </button>

    <!-- Bot√≥n de Productos -->
    <button mat-button (click)="toggleLista()">
      Opciones ‚ñº
    </button>
  
    <ul *ngIf="showList" class="submenu">
      <li><a routerLink="/opcion1" routerLinkActive="active">Opci√≥n 1</a></li>
      <li><a routerLink="/opcion2" routerLinkActive="active">Opci√≥n 2</a></li>
      <li><a routerLink="/opcion3" routerLinkActive="active">Opci√≥n 3</a></li>
    </ul>

    <!-- Bot√≥n de Nosotros -->
    <button 
      mat-button 
      routerLink="/about-us" 
      routerLinkActive="active" 
      [routerLinkActiveOptions]="{ exact: true }"
      aria-label="Ir a Nosotros" 
      (click)="closeMenu()">
      Nosotros
    </button>

    <!-- Bot√≥n de Buscar -->
    <button 
      mat-button 
      aria-label="Buscar un producto" 
      (click)="openSearchForm()">
      Buscar
    </button>
  </nav>
</mat-toolbar>

<!-- Contenedor de b√∫squeda que se despliega debajo del header -->
<div class="search-expansion" [class.open]="isSearchOpen">
  <div class="search-container">
    <input type="text" placeholder="Buscar..." class="search-input" />
    <button mat-icon-button (click)="closeSearchForm()" aria-label="Cerrar b√∫squeda">
      <mat-icon>close</mat-icon>
    </button>
  </div>
</div>

<!-- Fondo difuminado (se muestra cuando isSearchOpen es true) -->
<div class="overlay" *ngIf="isSearchOpen" (click)="closeSearchForm()"></div>